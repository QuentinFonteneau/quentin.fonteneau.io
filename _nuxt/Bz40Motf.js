import{_ as j}from"./P0B_YbIo.js";import{m as k,c as m,g as i,h as s,k as x,i as f,B as z,C as v,D as g,t as c,j as p,n as N,s as S,f as u}from"./CKSXDZdU.js";import{u as U}from"./By4K_jkJ.js";const $={class:"contact"},B={class:"image shadow-top-right"},P={class:"row"},D={key:0,class:"error"},T={class:"row"},E={key:0,class:"error"},F={class:"row"},O={key:0,class:"error"},q={__name:"contact",setup(A){const a=m({name:"",email:"",message:""}),t=m({name:null,email:null,message:null}),l=m(""),n=m(!1),d=S(),b=d.public.basicAuthUsername,y=d.public.basicAuthPassword,h=d.public.apiUrl,w=`Basic ${btoa(`${b}:${y}`)}`,V=()=>(t.value={name:a.value.name.trim()===""?"C’est plus sympa si je sais comment vous appeler :)":null,email:a.value.email.trim()===""?"Ce champ est obligatoire":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value.email)?null:"Format incorrect",message:a.value.message.trim()===""?"Ce champ est obligatoire":a.value.message.trim().length<25?"Ça serait sympa d'être un peu plus bavard :)":null},!Object.values(t.value).some(o=>o!==null)),_=async()=>{if(l.value="",n.value=!1,!!V())try{console.info(JSON.stringify(a.value));const o=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:w},body:JSON.stringify(a.value)});if(o.ok)l.value="Votre message a été envoyé avec succès !",n.value=!0,a.value={name:"",email:"",message:""};else{const e=await o.json();l.value=`Erreur : ${e.message||"Échec de l’envoi."}`,n.value=!1}}catch(o){l.value=`Erreur réseau : ${o.message}`,n.value=!1}};return U({title:"Contact - Quentin Fonteneau",meta:[{name:"description",content:"Contactez un développeur freelance spécialisé en PHP et JavaScript. Bénéficiez d'un accompagnement sur mesure pour vos projets web, de la conception au déploiement."}]}),(o,e)=>{const C=j;return u(),i("main",$,[s("section",null,[s("div",B,[x(C,{src:"/img/build/maison.webp",alt:"Photo d'un couché de soleil depuis mon jardin",loading:"lazy"})])]),s("section",null,[e[8]||(e[8]=s("h1",{class:"title"},"Contactez-moi",-1)),e[9]||(e[9]=s("p",{class:"subtitle"},[f(" Un projet ?"),s("br"),f(" Parlons-en ! ")],-1)),s("form",{onSubmit:z(_,["prevent"])},[s("div",P,[e[3]||(e[3]=s("label",{for:"name"},"Votre nom et prénom *",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>a.value.name=r),id:"name",placeholder:"Votre nom et prénom"},null,512),[[g,a.value.name]]),t.value.name?(u(),i("p",D,c(t.value.name),1)):p("",!0)]),s("div",T,[e[4]||(e[4]=s("label",{for:"email"},"Votre adresse e-mail *",-1)),v(s("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=r=>a.value.email=r),id:"email",placeholder:"Votre adresse e-mail"},null,512),[[g,a.value.email]]),t.value.email?(u(),i("p",E,c(t.value.email),1)):p("",!0)]),s("div",F,[e[5]||(e[5]=s("label",{for:"message"},"Votre projet en quelques lignes ? *",-1)),v(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.message=r),id:"message",rows:"5",placeholder:"Décrivez votre projet"},null,512),[[g,a.value.message]]),t.value.message?(u(),i("p",O,c(t.value.message),1)):p("",!0)]),e[6]||(e[6]=s("p",null,"Tous les champs marqués d'un * sont obligatoires.",-1)),e[7]||(e[7]=s("input",{type:"submit",value:"Envoyer mon message"},null,-1)),l.value?(u(),i("p",{key:0,class:N({success:n.value,error:!n.value})},c(l.value),3)):p("",!0)],32)])])}}},I=k(q,[["__scopeId","data-v-33a59e11"]]);export{I as default};
